重新设计战斗模块。
1、从数据库查询玩家属性数据，应用BuffConfigPool，将玩家增益后的属性数据存入redis，生产敌人属性数据存入redis。
2、查询redis中的玩家和敌人属性数据。进行伤害计算A的Damage-B的Defense=B受到伤害值，B的Damage-A的Defense=A受到伤害值。
3、首先对比A玩家和B敌人Speed，A的Speed高，进行B闪避判定。B的Speed高，进行A闪避判定。Speed相同，进行A闪避判定。
4、B闪避判定，先计算A的dodgeResist-B的dodgeRate=B的闪避概率，如果没有触发，进行A回合战斗触发伤害计算。如果触发，提示"B闪避成功"，进入下回合，B回合战斗触发伤害计算。

5、A闪避判定，先计算B的dodgeResist-A的dodgeRate=A的闪避概率，如果没有触发，进行B回合战斗触发伤害计算。如果触发，提示"A闪避成功"，进入下回合，A回合战斗触发伤害计算。

6、A回合战斗触发伤害计算。计算双方A的combatAttributes-B的combatAttributes=触发概率，例如A的critRate-B的critResist=触发暴击概率。如果触发，提示"A对B造成(基础)伤害'B受到伤害值'。(暴击)伤害'B受到伤害值'"。A的ComboRate-B的ComboResist=触发连击概率。如果触发，提示"A对B造成(基础)伤害'B受到伤害值'，(连击)伤害'B受到伤害值'"。B的counterRate-A的counterResist=触发反击概率。如果触发，提示"A对B造成(基础)伤害'B受到伤害值'，(被反击)伤害,受到'A受到伤害值'伤害"。A的vampireRate-B的vampireResist=吸血触发概率，如果触发，提示"A对B造成(基础)伤害'B受到伤害值'，(吸血)A生命值+'B受到伤害值*20%'"。A的stunRate-B的stunResist=触发眩晕概率，如果触发，提示"A对B造成(基础)伤害'B受到伤害值'，B被眩晕一回合"进行下回合，进入A回合战斗触发伤害计算，如果没触发眩晕，进行下回合，进入B回合战斗触发伤害计算。A回合战斗触发伤害计算结算，A的Health=MaxHealth-(被反击)伤害，B的Health=MaxHealth-(基础)伤害-(暴击)伤害-(连击)伤害+(吸血)

7、B回合战斗触发伤害计算。计算双方B的combatAttributes-A的combatAttributes=触发概率，例如B的critRate-A的critResist=触发暴击概率。如果触发，提示"B对A造成(基础)伤害'A受到伤害值'。(暴击)伤害'A受到伤害值'"。B的ComboRate-A的ComboResist=触发连击概率。如果触发，提示"B对A造成(基础)伤害'A受到伤害值'，(连击)伤害'A受到伤害值'"。A的counterRate-B的counterResist=触发反击概率。如果触发，提示"B对A造成(基础)伤害'A受到伤害值'，(被反击)伤害受到'B受到伤害值'"。B的vampireRate-A的vampireResist=吸血触发概率，如果触发，提示"B对A造成(基础)伤害'A受到伤害值'，(吸血)B生命值+'A受到伤害值*20%'"。B的stunRate-A的stunResist=触发眩晕概率，如果触发，提示"B对A造成(基础)伤害'A受到伤害值'，A被眩晕一回合"进行下回合，进入B回合战斗触发伤害计算，如果没触发眩晕，进行下回合，进入A回合战斗触发伤害计算。B回合战斗触发伤害计算结算，B的Health=MaxHealth-(被反击)伤害，A的Health=MaxHealth-(基础)伤害-(暴击)伤害-(连击)伤害+(吸血)

8、每回合进行战斗触发伤害计算结算，将结果返回给前端日志面板显示。当A或B的MaxHealth>=0时，战斗结算，触发奖励池，随机奖励spiritStones、reinforceStones、refinementStones、petEssence 。